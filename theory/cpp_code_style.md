# C++ code style
Здесь приведены правила оформления кода, которые использую на работе, с некоторыми изменениями и сокращениями. Естественно это не единственный вариант. Если вам чем-либо он не нравится, вы всегда можете выбрать для себя свой.

Соблюдать стиль оформления кода необходимо в целях улучшения его читаемости как для других людей, так и для вас самих.

## Отступы
Ровно два или четыре пробела для уровней вложенности, удвоенный отступ либо выравнивание по скобке при переносе строки.

Пример:
```cpp
virtual PPlateRecognitionResult recognize_plate(MinImg const* rectified_plate_image,
                                                std::vector<std::string> const& template_names)
{
  while (true)
  {
    prepare_result();
    return PPlateRecognitionResult();
  }
}
```

## Скобки {}
Допустимы два варианта, применимых на уровне целых файлов, за некоторыми исключениями.

Вариант 1
1. Скобки располагаются на отдельных строках.
2. Действие, состоящее из одной строчки, заключать в скобки не обязательно.

Пример:
```cpp
void b()
{
  for (int i = 0; i < 3; ++i)
  {
    if (test(i))
      return i;
    else
      continue;
  }
}

struct E
{
  int f() { return g; }
};
```

Вариант 2

1. Открывающая скобка располагается в конце строки, закрывающая ­— отдельно, за исключением } else {
2. Действие, состоящее из одной строчки, обязательно заключается в скобки.
3. Допускается перенос открывающей функцию скобки на отдельную строку, если этому правилу следовать всюду в пределах файла.
4. Допускается перенос отдельных открывающих скобок внутри конструкций if...else при условии, что это конструкция верхнего уровня в функции — используйте благоразумно.

Пример:
```cpp
void b() {
  for (int i = 0; i < 3; ++i) {
    if (test(i)) {
      return i;
    } else {
      continue;
    }
  }
}

struct E {
  int f() { return g; }
};
```

## Стиль именования
Переменные и функции именуются in_lower_case_underscored.

## Пробелы

**Никогда не ставим два и более подряд пробела, кроме выравниваний и отступов.**

Всегда окружаются пробелами:
1. оператор присвоения (=),
2. операторы сравнения (<, >, <=, >=, ==, !=),
3. арифметические (+, -, *, /, %), 
4. логические (&&, ||),
5. побитовые (&, |, ^, <<, >>),
6. составные операторы (+=, /= и др.),
7. операторы работы с потоками (<<, >>).

Никогда не отделяются пробелами:
1. унарный минус (-),
2. побитовое отрицание (~),
3. операторы инкремента (++) и декремента (--),
4. разыменовывание указателя (*),
5. взятие адреса (&),
6. обращение к члену структуры (., ->).

При объявлении указателей оператор * может как окружаться пробелами, так и прилипать к типу данных или переменной. Но не может прилипать одновременно к типу данных и переменной.

Пример:
```cpp
int * a;
char *b;
float* c;
```

Пробелы не ставятся:
1. перед запятой и точкой с запятой,
2. непосредственно внутри скобок,
3. непосредственно перед скобками при указании аргументов функций или индексов массива.

## Комментарии
Комментировать код полезно, т.к. помогает вам вспомнить, для чего был написан тот или инйо кусок кода. Комментарии лучше писать на отдельной строке при помощи //. Многострочные комментарии оформляются в /* */. Если вам необходимо написать inline-комментарий, то ставьте не менее 2х пробелов от последнего символа в строке.